{
  "meta": {
    "projectName": "fat-controller",
    "version": "3.1.3",
    "lastUpdated": "2026-02-02",
    "description": "Business logic, feature specifications, and product requirements"
  },
  "features": {
    "_comment": "Track all features and their status",
    "authorityBasedMemorySystem": {
      "status": "complete",
      "version": "v3.0.0",
      "description": "Single source of truth memory system with automated capture",
      "keyComponents": [
        "QUICK.md router with authority map",
        "OPS.md, CONSTRAINTS.md, DEPRECATIONS.md, TECH_DEBT.md authoritative files",
        "decisions/ and solutions/ directories",
        "Codex validation integration",
        "Automated capture in commands"
      ]
    },
    "codexIntegration": {
      "status": "complete",
      "version": "v3.1.3",
      "description": "Codex CLI integration for code review, validation, and dual-model orchestration",
      "keyComponents": [
        "Three-tier execution (Codex xhigh → Sonnet → Codex medium)",
        ".codex/prompts/code-review.md",
        "Authority rule validation",
        "Automated tech debt capture",
        "Dual-model code review (Claude + Codex parallel)",
        "Finding merge and deduplication",
        "User triage loop for MEDIUM/LOW findings"
      ]
    },
    "automatedKnowledgeCapture": {
      "status": "complete",
      "version": "v3.1.3",
      "description": "Commands automatically capture decisions, solutions, deprecations, tech debt with model attribution",
      "keyComponents": [
        "/prd → decisions/*.md",
        "/bugs → solutions/*.yaml",
        "/execute → solutions/*.yaml, decisions/*.md, DEPRECATIONS.md",
        "/code-review → TECH_DEBT.md with source attribution (Claude only|Codex only|Both)"
      ]
    },
    "templateSeparation": {
      "status": "complete",
      "version": "v3.1.0",
      "description": "Clean starter templates separated from active project memory",
      "keyComponents": [
        "templates/.ai/ - pristine starter files with examples",
        ".ai/ - active project memory",
        "/pull-fc syncs templates/ from fat-controller",
        "Bootstrap process copies templates/ to .ai/"
      ]
    },
    "threeTierModelSelection": {
      "status": "complete",
      "version": "v3.1.0",
      "description": "Optimized model selection based on task complexity and reasoning effort",
      "keyComponents": [
        "Codex (gpt-5.2-codex, medium) for complexity 1-2",
        "Sonnet for complexity 3",
        "Codex (gpt-5.2-codex, xhigh) for complexity 4-5",
        "Reasoning effort controlled via -c flag, not model switching"
      ]
    },
    "downstreamEffectsAnalysis": {
      "status": "complete",
      "version": "v3.1.2",
      "description": "Commands analyze ripple effects of changes before implementation",
      "keyComponents": [
        "/bugs command maps what breaks when fixing root cause",
        "/feature command identifies consumers/dependents of changed files/APIs",
        "/prd command includes downstream effects in exploration",
        "Downstream effects include file:line, impact, and likelihood (HIGH/MEDIUM/LOW)",
        "Helps prevent unintended consequences of code changes"
      ]
    },
    "debateOrchestration": {
      "status": "complete",
      "version": "v3.1.2",
      "description": "Multi-model debate system for holistic decision analysis",
      "keyComponents": [
        "/debate command orchestrates Claude + Codex analysis",
        "3-round structured debate with cross-examination",
        "Parallel Round 1 (independent positions), sequential Rounds 2-3 (cross-examination)",
        "Synthesis phase produces consensus, divergences, and actionable recommendations",
        "Outputs to debates/ directory with brief.md, state.md, debate.md"
      ]
    },
    "dualModelCodeReview": {
      "status": "complete",
      "version": "v3.1.3",
      "description": "Parallel Claude and Codex code review with finding merge, deduplication, and user triage",
      "keyComponents": [
        "Parallel model spawning (Claude Opus via Task, Codex via Bash)",
        "Standardized JSON output schema for both models",
        "Hash-based finding deduplication",
        "Convergent vs single-model confidence tagging",
        "User triage loop for MEDIUM/LOW findings",
        "Source attribution in TECH_DEBT.md",
        "Fallback to Claude-only on Codex failure",
        "--codex-only flag for legacy single-model mode"
      ]
    },
    "_example": {
      "status": "complete / in-progress / planned",
      "version": "v1.0",
      "description": "Brief feature description",
      "keyComponents": ["Component1", "Component2", "Component3"]
    }
  },
  "businessRules": {
    "_comment": "Document key business logic and validation rules",
    "_example": {
      "rules": [
        "Rule 1: Description",
        "Rule 2: Description",
        "Rule 3: Description"
      ],
      "exceptions": ["Exception case 1"]
    }
  },
  "userFlows": {
    "_comment": "Map critical user workflows",
    "_example": {
      "name": "Example user flow",
      "steps": [
        "Step 1",
        "Step 2",
        "Step 3",
        "Step 4"
      ],
      "keyScreens": ["Screen1", "Screen2", "Screen3"],
      "keyFiles": ["Service.ext", "Component.ext"]
    }
  },
  "performanceTargets": {
    "_comment": "Document performance requirements and measurements",
    "_example": {
      "target": "< 200ms",
      "measured": "150ms average",
      "critical": true
    }
  },
  "dataModels": {
    "_comment": "Document key data structures, relationships, and constraints",
    "_example": {
      "entities": {
        "User": {
          "fields": ["id", "email", "createdAt"],
          "required": ["email"]
        },
        "Order": {
          "fields": ["id", "userId", "status", "total"],
          "required": ["userId", "status"]
        }
      },
      "relationships": [
        "User has many Orders (User.id -> Order.userId)",
        "Order belongs to User"
      ],
      "constraints": [
        "User.email must be unique",
        "Order.total must be >= 0"
      ]
    }
  },
  "security": {
    "_comment": "Document security requirements and implementation",
    "_example": {
      "authentication": "JWT / OAuth / Session-based",
      "authorization": "Role-based / Permission-based",
      "dataProtection": "Encryption strategy"
    }
  }
}
